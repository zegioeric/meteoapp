{"ast":null,"code":"import axios from 'axios';\nconst API_KEY = 'bd84d98d30841d5669d443eac854e864';\nconst endpoint = '//api.openweathermap.org/data/2.5/onecall';\nconst params = {\n  appid: API_KEY\n};\nexport const getForecast = async id => {\n  const forecastResponse = await axios.get(endpoint, {\n    params\n  });\n  console.log(forecastResponse); // return await axios.get(`api.openweathermap.org/data/2.5/weather?q=London&appid={${API_KEY}}`).then(res => {\n  //   return res\n  // })\n}; // const useOpenWeather = (options) => {\n//   const endpoint = '//api.openweathermap.org/data/2.5/onecall';\n//   const [state, dispatch] = useReducer(fetchReducer, initialState);\n//   const { data, errorMessage } = state;\n//   const [isLoading, setIsLoading] = useState(false);\n//   const { unit, lang, key, lon, lat } = options;\n//   const params = {\n//     appid: key,\n//     lang,\n//     units: unit,\n//     lat,\n//     lon,\n//   };\n//   const fetchData = async () => {\n//     setIsLoading(true);\n//     try {\n//       const forecastResponse = await axios.get(endpoint, { params });\n//       const payload = mapData(\n//         forecastResponse.data.daily,\n//         forecastResponse.data.current,\n//         lang,\n//       );\n//       dispatch({\n//         type: SUCCESS,\n//         payload,\n//       });\n//     } catch (error) {\n//       console.error(error.message);\n//       dispatch({ type: FAILURE, payload: error.message || error });\n//     }\n//     setIsLoading(false);\n//   };","map":{"version":3,"sources":["/home/eric/projects/react/meteoapp/src/api/openweather.js"],"names":["axios","API_KEY","endpoint","params","appid","getForecast","id","forecastResponse","get","console","log"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,MAAMC,OAAO,GAAG,kCAAhB;AACA,MAAMC,QAAQ,GAAG,2CAAjB;AACA,MAAMC,MAAM,GAAG;AACbC,EAAAA,KAAK,EAAEH;AADM,CAAf;AAIA,OAAO,MAAMI,WAAW,GAAG,MAAOC,EAAP,IAAc;AACvC,QAAMC,gBAAgB,GAAG,MAAMP,KAAK,CAACQ,GAAN,CAAUN,QAAV,EAAoB;AAAEC,IAAAA;AAAF,GAApB,CAA/B;AACAM,EAAAA,OAAO,CAACC,GAAR,CAAYH,gBAAZ,EAFuC,CAGvC;AACA;AACA;AACD,CANM,C,CASP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["import axios from 'axios'\nconst API_KEY = 'bd84d98d30841d5669d443eac854e864'\nconst endpoint = '//api.openweathermap.org/data/2.5/onecall';\nconst params = {\n  appid: API_KEY\n};\n\nexport const getForecast = async (id) => {\n  const forecastResponse = await axios.get(endpoint, { params });\n  console.log(forecastResponse)\n  // return await axios.get(`api.openweathermap.org/data/2.5/weather?q=London&appid={${API_KEY}}`).then(res => {\n  //   return res\n  // })\n}\n\n\n// const useOpenWeather = (options) => {\n//   const endpoint = '//api.openweathermap.org/data/2.5/onecall';\n//   const [state, dispatch] = useReducer(fetchReducer, initialState);\n//   const { data, errorMessage } = state;\n//   const [isLoading, setIsLoading] = useState(false);\n//   const { unit, lang, key, lon, lat } = options;\n//   const params = {\n//     appid: key,\n//     lang,\n//     units: unit,\n//     lat,\n//     lon,\n//   };\n\n//   const fetchData = async () => {\n//     setIsLoading(true);\n//     try {\n//       const forecastResponse = await axios.get(endpoint, { params });\n//       const payload = mapData(\n//         forecastResponse.data.daily,\n//         forecastResponse.data.current,\n//         lang,\n//       );\n\n//       dispatch({\n//         type: SUCCESS,\n//         payload,\n//       });\n//     } catch (error) {\n//       console.error(error.message);\n//       dispatch({ type: FAILURE, payload: error.message || error });\n//     }\n//     setIsLoading(false);\n//   };"]},"metadata":{},"sourceType":"module"}