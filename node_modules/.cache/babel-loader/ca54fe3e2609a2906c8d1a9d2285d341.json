{"ast":null,"code":"var _jsxFileName = \"/home/eric/projects/react/meteoapp/src/components/admin/CityForm.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { Form, Button, Col } from 'react-bootstrap';\nimport { Hint } from 'react-autocomplete-hint';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst CityForm = ({\n  handleSubmit,\n  form,\n  setForm\n}) => {\n  _s();\n\n  const [errors, setErrors] = useState({});\n  const [hintData, setHintData] = useState([]);\n  const [text, setText] = useState('');\n\n  const getData = async () => {\n    const res = await axios.get('https://jsonplaceholder.typicode.com/users');\n    var hintArray = [];\n    res.data.map(a => hintArray.push(a.name));\n    setHintData(hintArray);\n  };\n\n  const validateForm = form => {\n    //validate handle react / react hook / yup / ..\n    for (const [key, value] of Object.entries(form)) {\n      if (!value) {\n        setErrors({\n          [key]: \"required*\"\n        });\n        return false;\n      }\n    }\n\n    return true;\n  };\n\n  const handleChange = target => {\n    if (target.name == 'name') {\n      setText(target.value);\n    }\n\n    setForm({ ...form,\n      [target.name]: target.value\n    });\n  };\n\n  const submitForm = e => {\n    e.preventDefault();\n\n    if (validateForm(form)) {\n      handleSubmit(e, { ...form\n      });\n    }\n  };\n\n  useEffect(() => {\n    getData();\n    setText(form.name);\n  });\n  return /*#__PURE__*/_jsxDEV(Form, {\n    style: {\n      marginTop: '50px'\n    },\n    children: [/*#__PURE__*/_jsxDEV(Form.Row, {\n      children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n        as: Col,\n        md: 4,\n        xs: 12,\n        controlId: \"GridName\",\n        children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n          children: \"Nome Citt\\xE0*\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Hint, {\n          options: hintData,\n          allowTabFill: true,\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"input-with-hint\",\n            value: text,\n            placeholder: \"Nome citt\\xE0\",\n            name: \"name\",\n            onChange: e => setText(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            className: \"input-with-hint\",\n            placeholder: \"Nome citt\\xE0\",\n            name: \"name\",\n            value: form.name,\n            onChange: e => handleChange(e.target)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: errors.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n        as: Col,\n        md: 4,\n        xs: 12,\n        controlId: \"GridLat\",\n        children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n          children: \"Latitudine*\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n          placeholder: \"Latitudine\",\n          name: \"lat\",\n          value: form.lat // disabled\n          ,\n          onChange: e => handleChange(e.target)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: errors.lat\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n        as: Col,\n        md: 4,\n        xs: 12,\n        controlId: \"GridLon\",\n        children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n          children: \"Longitudine*\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n          placeholder: \"Longitudine\",\n          name: \"lon\",\n          value: form.lon // disabled\n          ,\n          onChange: e => handleChange(e.target)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: errors.lon\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      variant: \"primary\",\n      type: \"button\",\n      onClick: submitForm,\n      children: \"Salva\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 5\n  }, this);\n};\n\n_s(CityForm, \"xOg38cbdkv7Wv9AsZrOxPYGZ5I8=\");\n\n_c = CityForm;\nexport default CityForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"CityForm\");","map":{"version":3,"sources":["/home/eric/projects/react/meteoapp/src/components/admin/CityForm.js"],"names":["React","useEffect","useState","Form","Button","Col","Hint","axios","CityForm","handleSubmit","form","setForm","errors","setErrors","hintData","setHintData","text","setText","getData","res","get","hintArray","data","map","a","push","name","validateForm","key","value","Object","entries","handleChange","target","submitForm","e","preventDefault","marginTop","lat","lon"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport { Form, Button, Col} from 'react-bootstrap';\nimport { Hint } from 'react-autocomplete-hint';\nimport axios from 'axios';\n\nconst CityForm = ( { handleSubmit, form, setForm } ) => {\n  const [errors, setErrors] = useState({})\n  const [hintData, setHintData] = useState([])\n  const [text, setText] = useState('')\n  \n  const getData = async () => {\n    const res = await axios.get('https://jsonplaceholder.typicode.com/users')\n      var hintArray = []\n       res.data.map(a => hintArray.push(a.name))\n        setHintData(hintArray)\n  }\n\n  const validateForm = (form) => {\n    //validate handle react / react hook / yup / ..\n    for (const [key, value] of Object.entries(form)) {\n      if(!value){\n        setErrors({ [key]: \"required*\"})\n        return false\n      } \n    }\n    return true\n  }\n\n  const handleChange = (target) => {\n    if(target.name == 'name'){\n      setText(target.value)\n    }\n    \n    setForm({\n      ...form,\n      [target.name]: target.value\n    })\n  }\n\n  const submitForm = e => {\n    e.preventDefault();\n    if(validateForm(form)){\n      handleSubmit(e, {...form})\n    }\n  }\n\n  useEffect(()=> {\n    getData()\n    setText(form.name)\n  })\n\n  return(\n    <Form style={{marginTop: '50px'}}>\n      <Form.Row>\n        <Form.Group as={Col} md={4} xs={12} controlId=\"GridName\">\n          <Form.Label>Nome Città*</Form.Label>\n          <Hint options={hintData} allowTabFill>\n            <input className='input-with-hint'\n              value={text}\n              placeholder=\"Nome città\" \n              name=\"name\"\n              onChange={e => setText(e.target.value)}   \n              />\n            <Form.Control className='input-with-hint' placeholder=\"Nome città\" name=\"name\" value={form.name} onChange={e => handleChange(e.target)} />\n          </Hint>\n          \n          <p>{errors.name}</p>\n        </Form.Group>\n        <Form.Group as={Col} md={4} xs={12} controlId=\"GridLat\">\n          <Form.Label>Latitudine*</Form.Label>\n          <Form.Control placeholder=\"Latitudine\" name=\"lat\" value={form.lat} \n          // disabled\n          onChange={e => handleChange(e.target)}\n           />\n          <p>{errors.lat}</p>\n        </Form.Group>\n        <Form.Group as={Col} md={4} xs={12} controlId=\"GridLon\">\n          <Form.Label>Longitudine*</Form.Label>\n          <Form.Control placeholder=\"Longitudine\" name=\"lon\" value={form.lon} \n          // disabled\n          onChange={e => handleChange(e.target)}\n           />\n          <p>{errors.lon}</p>\n        </Form.Group>\n      </Form.Row>\n      <Button variant=\"primary\" type=\"button\" onClick={submitForm}>\n        Salva\n      </Button>\n    </Form>  \n    )\n\n}\n\nexport default CityForm\n"]},"metadata":{},"sourceType":"module"}